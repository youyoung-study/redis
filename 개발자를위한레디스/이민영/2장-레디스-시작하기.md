패키징 : 빠르고 간편 BUT 레디스 관련 파일이 여러 군데에 흩어져 저장되기 때문에 관리가 어렵고 인터넷에 연결되지 않은 서버에서는 해당 방식으로 설치 할 수 없다

.소스파일 : 하나의 서버에 여러개의 레디스 인스턴스 띄울때 소스 파일로 관리하는 것이 편리하다.

## 

### 서버 환경 설정 변경

maxclients : 레디스 프로세스에서 받아들일 수 있는 최대 클라이언트 개수(기본 10000)

THP 기능 : 리눅스는 메모리를 페이지 단위로 관리하며, 기본 페이지는 4096byte(4KB) 로 고정. 메모리 크기가 커질수록 TLB(페이지를 관리하는 테이블) 크기도 커져, 메모리를 사용할 때 오버헤드가 발생함. 따라서, 페이지를 크게 만든 뒤 자동으로 관리하는 기능 도입

### 

vm.overcommit_memory=1 로 변경

- 레디스는 디스크에 파일을 저장할때 fork()를 이용해 백그라운드 포르세스를 만들고, 이때 COW(copy on write) 메커니즘 동작
- COW(copy on write) 메커니즘 : 부모 프로세스와 자식 프로세스가 동일한 메모리 페이지를 공유하다가 레디스의 데이터가 변경될때마다 메모리 페이지를 복사
- COW(copy on write) 메커니즘의 영향 : 레디스의 데이터가 변경될때마다 메모리 페이지를 복사하기 때문에 데이터 변경이 많이 발생하면 메모리 사용량 빠르게 증가. 레디스 프로세스 실행도중 메모리를 순간적으로 초과해 할당해야하는 상황 발생
- 파라미터값 변경 : vm.overcommit_memory=1 로 변경하여, 필요한 메모리를 초과해 할당할 수 있도록 함 (기본은 0으로, 필요한 메모리를 초과해 할당하는 것을 제한)

tcp-backlog : 레디스 인스턴스가 클라이언트와 통신할때 사용하는 tcp backlog 큐의 크기

### 

- redis-cli 로 레디스 접속하기

```
# ip 생략 시 기본값 127.0.0.1
# port 생략 시 기본값 6379
# requirepass 에 패스워드 설정 시, -a 옵션 이용해 패스워드 함께 입력 하거나 접속한 뒤 AUTH 커맨드와 함께 패스워드 입력 필수
redis-cli -h <ip주소> -p <port> -a <패스워드>
```

- 레디스 프로세스 응답확인

```
127.0.0.1:6379> PING
PONG
```